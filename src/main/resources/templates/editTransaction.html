<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Transaction Actions</title>
</head>
<body>
<h2>Meow meow with this Transaction?</h2>
<div>
  <img src="/sleepingCat.jpg" alt="A cute cat" width="600" height="600">
</div>
<table border="1">
  <thead>
  <tr>
    <th>ID</th>
    <th>Date</th>
    <th>Amount</th>
    <th>Category</th>
    <th>Description</th>
    <th>Type</th>
    <th>Account</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td th:text="${transaction.id}">ID</td>
    <td th:text="${transaction.date}">Date</td>
    <td th:text="${transaction.amount}">Amount</td>
    <td th:text="${transaction.category}">Category</td>
    <td th:text="${transaction.description}">Description</td>
    <td th:text="${transaction.type}">Type</td>
    <td th:text="${transaction.account}">Account</td>
  </tr>
  </tbody>
</table>

<table>
  <tr>
    <td>
      <form action="/deleteTransaction" method="post">
        <input type="hidden" name="id" th:value="${transaction.id}">
        <input type="hidden" name="login" th:value="${user.login}">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this transaction?');">
          Delete Transaction
        </button>
      </form>
    </td>
  </tr>
</table>

<!-- Edit Form displayed by default -->
<form id="editForm" action="/updateTransaction" method="post">
  <input type="hidden" name="id" th:value="${transaction.id}">
  <input type="hidden" name="login" th:value="${user.login}">

  <label for="date">Date:</label>
  <input type="text" name="date" th:value="${transaction.date}"><br>

  <label for="amount">Amount:</label>
  <input type="number" step="0.01" name="amount" th:value="${transaction.amount}"><br>

  <label for="category">Category:</label>
  <input type="text" name="category" th:value="${transaction.category}"><br>

  <label for="description">Description:</label>
  <input type="text" name="description" th:value="${transaction.description}"><br>

  <label for="type">Type:</label>
  <select name="type">
    <option th:value="INCOME" th:selected="${transaction.type == 'INCOME'}">INCOME</option>
    <option th:value="EXPENSE" th:selected="${transaction.type == 'EXPENSE'}">EXPENSE</option>
  </select><br>

  <label for="account">Account:</label>
  <input type="text" name="account" th:value="${transaction.account}"><br>

  <button type="submit">Save Changes</button>
</form>

<br>
<form action="/goHome" method="get">
  <input type="hidden" name="login" th:value="${user.login}">
  <button type="submit">Go Home</button>
</form>

</body>
</html>
